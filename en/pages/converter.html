<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>價目欄&匯率表</title>
    <link rel="stylesheet" href="https://verdo568.github.io/css/converter.css">
    <script src="../scripts/converter.js"></script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W49DBFB1S5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-W49DBFB1S5');
</script>
<body>
    <div class="container">
        <h1>價目欄&匯率表</h1>
        <div class="price-table">
            <h2>價格列表</h2>
            <input type="text" id="searchInput" class="search-bar" placeholder="搜尋商品...">
            <table id="priceTable">
                <thead class="exclude-search">
                    <tr>
                        <th>貨幣</th>
                        <th>匯率</th>
                    </tr>
                </thead>
                <tbody class="exclude-search">
                    <tr>
                        <td>銅錠</td>
                        <td>6 銅錠 換 1 金錠</td>
                    </tr>
                    <tr>
                        <td>金錠</td>
                        <td>9 金錠 換 1 綠寶石</td>
                    </tr>
                    <tr>
                      <td>綠寶石(主要貨幣)</td>
                      <td>16 綠寶石 = 1 鑽石</td>
                    </tr>
                    <tr>
                      <td>鑽石(主要貨幣)</td>
                      <td>為最高面額</td>
                    </tr>
                </tbody>
                <thead>
                    <th>商品</th>
                    <th>價格</th>
                </thead>
                <tbody>
                    <tr>
                        <td>遠古遺骸</td>
                        <td>1 鑽石 / 16 綠寶石 / 140 金錠 / 860 銅錠</td>
                    </tr>
                    <tr>
                        <td>獄髓碎片(2個)</td>
                        <td>2 鑽石 / 32 綠寶石 / 290 金錠 / 1730 銅錠</td>
                    </tr>
                    <tr>
                        <td>獄髓升級模板</td>
                        <td>4 鑽石 / 64 綠寶石 / 580 金錠 / 3460 銅錠</td>
                    </tr>
                    <tr>
                        <td>混凝土(組)</td>
                        <td>2 鑽石 / 24 綠寶石 / 210 金錠 / 1290 銅錠</td>
                    </tr>
                    <tr>
                        <td>獄髓錠</td>
                        <td>4 鑽石 / 64 綠寶石 / 570 金錠 / 3450 銅錠</td>
                    </tr>
                    <tr>
                      <td>任一附魔書</td>
                      <td>4 鑽石 / 60 綠寶石 / 570 金錠 / 3400 銅錠</td>
                    </tr>
                    <tr>
                      <td>植物/種子(2組)</td>
                      <td>1 鑽石 / 16 綠寶石 / 100 金錠 / 800 銅錠</td>
                    </tr>
                    <tr>
                      <td>藥水(2瓶)</td>
                      <td>1 鑽石 / 16 綠寶石 / 100 金錠 / 800 銅錠</td>
                    </tr>
                    <tr>
                      <td>界伏盒</td>
                      <td>4 鑽石 / 60 綠寶石 / 570 金錠 / 3400 銅錠</td>
                    </tr>
                    <tr>
                      <td>小麥麵包(2組)</td>
                      <td>1 鑽石 / 16 綠寶石 / 100 金錠 / 800 銅錠</td>
                    </tr>
                    <thead><tr>
                        <th>裝備</th>
                        <th>價格</th>
                    </tr></thead>
                    <tr>
                        <td>獄髓全套裝備(已打折)</td>
                        <td>72 鑽石 / 1150 綠寶石 / 10000 金錠 / 60000 銅錠<br><br>原價: 96鑽石 / 1536綠寶石 / 13824金錠 / 82944銅錠</td>
                    </tr>
                    <tr>
                        <td>鑽石全套裝備(已打折)</td>
                        <td>18鑽石 / 288綠寶石 / 2500金錠 / 15000銅錠<br><br>原價: 24鑽石 / 384綠寶石 / 3456金錠 / 20736銅錠 </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>商品項目及價格貢獻者: Yang Jonathan</p>
        <a href="https://drive.google.com/file/d/1xNdp6T8mncxvbwFYLJyncD8u8F7OslkW/view?usp=sharing" download="維爾多價目表.pdf" class="download-button">下載貢獻者的價目表</a>

        <div class="converter">
            <h2>貨幣轉換</h2>
            <label for="currency1">選擇貨幣 1：</label>
            <select id="currency1">
                <option value="16">鑽石</option>
                <option value="1">綠寶石</option>
                <option value="9">金錠</option>
                <option value="6">銅錠</option>
            </select>

            <label for="currency2">選擇貨幣 2：</label>
            <select id="currency2">
                <option value="16">鑽石</option>
                <option value="1">綠寶石</option>
                <option value="9">金錠</option>
                <option value="6">銅錠</option>
            </select>

            <label for="currency-amount">輸入貨幣 1 的數量：</label>
            <input type="number" id="currency-amount" placeholder="貨幣數量" min="1">

            <button onclick="convertCurrency()">轉換貨幣</button>

            <div class="result" id="currency-result"></div>
        </div>

        <div class="converter">
            <h2>商品購買計算</h2>
            <label for="item">選擇商品：</label>
            <select id="item">
                <option value="16">遠古遺骸</option>
                <option value="32">獄髓碎片(2個)</option>
                <option value="64">獄髓升級模板</option>
                <option value="24">混凝土(組)</option>
                <option value="64-2">獄髓錠</option>
                <option value="1152">獄髓全套裝備(已打折)</option>
                <option value="24-2">鑽石全套裝備(已打折)</option>
                <option value="60">任一附魔書</option>
                <option value="16-2">植物/種子(2組)</option>
                <option value="16-3">藥水(2瓶)</option>
                <option value="60">界伏盒</option> 
                <option value="16-4">小麥麵包(2組)</option>
            </select>

            <label for="item-quantity">輸入商品數量：</label>
            <input type="number" id="item-quantity" placeholder="商品數量" min="1">
            <label for="payment-currency">選擇支付貨幣：</label>
            <select id="payment-currency">
                <option value="16">鑽石</option>
                <option value="1">綠寶石</option>
                <option value="9">金錠</option>
                <option value="6">銅錠</option>     
            </select>

            <button onclick="calculateCost()">計算成本</button>

            <div class="result" id="item-result"></div>
        </div>
    </div>
    <script>
        document.getElementById('searchInput').addEventListener('input', function() {
            const filter = this.value.toLowerCase();
            
            // 篩選價格表中的行
            const rows = document.querySelectorAll('#priceTable tbody tr');
            rows.forEach(row => {
                // 跳過具有 class 'exclude-search' 的行
                if (row.closest('.exclude-search')) {
                    return;
                }
                const productName = row.cells[0].textContent.toLowerCase();
                if (productName.includes(filter)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
    
            // 篩選商品選擇器中的選項
            const options = document.querySelectorAll('#item option');
            let hasVisibleOption = false;
    
            options.forEach(option => {
                const text = option.textContent.toLowerCase();
                if (text.includes(filter)) {
                    option.style.display = '';
                    hasVisibleOption = true; // 如果有匹配的項目，標記為可見
                } else {
                    option.style.display = 'none';
                }
            });
    
            // 根據是否有可見的選項決定是否顯示整個 .converter
            const converter = document.querySelector('.converter');
            converter.style.display = hasVisibleOption ? '' : 'none';
        });
    </script>
    
</body>
</html>